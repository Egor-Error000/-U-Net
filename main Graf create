from Graf_Tk import *
import tkinter as tk
from tkinter import filedialog
from math import sin
import MatrixClass as Matrix

ABS="abs"

# Создаем объект окна tkinter
root = tk.Tk()

# Создаем объект ParameterManager
parameters = {
    "x0": {
        "type": "float",
        "default_value": 0
    },
    "dx": {
        "type": "float",
        "default_value": 0.1
    },
    "N": {
        "type": "int",
        "default_value": 100
    },
    "Function": {
        "type": "Func",
        "default_value": ABS
    }
}


operations = {
    "set_parameters": {
        "function": 0,
        "description": "Установить параметры"
     },
    "calculate_parametrs": {
        "function": 0, 
        "description": "Вычислить параметры"
     },
    "draw_graph": {
        "function": 0, 
        "description": "Построить график"
     },
    "write_to_file": {
        "function": 0, 
        "description": "Записать в файл"
     },
    "read_from_file": {
        "function": 0, 
        "description": "Прочитать из файла"
     },
    "save_graph": {
        "function": 0, 
        "description": "Сохранить график"
     },
    "clear_graph": {
        "function": 0, 
        "description": "Очистить график"
     }
}




def Func_name(parametrs_new):
          if "x0" in parametrs_new:
            x0 = parametrs_new["x0"]["default_value"]
          if "dx" in parametrs_new:
            dx = parametrs_new["dx"]["default_value"]
          if "N" in parametrs_new:
            N = abs(parametrs_new["N"]["default_value"])
          if "Function" in parametrs_new:
            func = parametrs_new["Function"]["default_value"]
          matrix_instance = Matrix.Matrix()
          mas_x = matrix_instance.set_X(N, x0, dx)
          mas_y = matrix_instance.set_Y(func)
          matrix_instance.mas_coordinat(mas_x, mas_y)
          return matrix_instance


# Передаем объект Graf в параметры объекта pm

mp = ParameterManager(root, parameters, operations,Graph=True,Give_Text=True,Func_name=Func_name)
# Выводим окно tkinter
root.mainloop()


